@model WhiteBoard2.Models.Post


@{
    ViewBag.Title = "Index";
}
<div class="panel-default">
    <div id="postDiv" class="panel-heading">
        <h2>Post a new announcement</h2>
        <hr>
        <div id="newPost" class="panel-body">
            @using (Ajax.BeginForm("AJAXCreate", "Posts",
                                    new AjaxOptions
                                    {
                                        InsertionMode = InsertionMode.Replace,
                                        HttpMethod = "POST",
                                        UpdateTargetId = "tableDiv"
                                    }))
            {
                @Html.AntiForgeryToken()
                <div class="form-group">
                    <div class="col-md-10">
                        @Html.EditorFor(model => model.PostText, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.PostText, "", new { @class = "text-danger" })
                    </div>
                </div>
            }
        </div>
    </div>
</div>

<div id="tableDiv"></div>


@section Scripts{
    <script src="~/Scripts/jquery.unobtrusive-ajax.min.js"></script>
    <script src="~/Custom_Scripts/BuildPosts.js"></script>
    @Scripts.Render("~/bundles/jqueryval")
}
